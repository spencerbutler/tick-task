# Auto-Fix Report Template

Use this template for documenting automated fix operations within the Human Execution Engine (HEE) CI/CD monitoring system.

## Report Structure

```markdown
# Auto-Fix Report: [Report ID]

## Summary

**Date**: [YYYY-MM-DD]
**Time**: [HH:MM:SS]
**Monitoring Session**: [Session ID]
**HEE State Capsule**: [State Capsule Version]
**Total Issues Detected**: [Number]
**Total Fixes Attempted**: [Number]
**Successful Fixes**: [Number]
**Failed Fixes**: [Number]
**Rollbacks Performed**: [Number]

## System Information

**HEE Version**: [Version]
**Monitoring Engine**: [Version]
**Auto-Fix Engine**: [Version]
**State Capsule Version**: [Version]
**Execution Environment**: [Environment Details]

## Monitoring Configuration

**Polling Interval**: [Seconds]
**Alert Thresholds**: [Configuration]
**Safety Level**: [High/Medium/Low]
**HEE Integration**: [Enabled/Disabled]

## Issues Detected

| Issue ID | Pattern ID | Severity | Component | Detection Time | Status |
| -------- | ---------- | -------- | --------- | -------------- | ------ |
| [ID]     | [PAT-XXX]  | [Level]  | [Component] | [Timestamp]   | [Status] |

## Fix Operations

### Successful Fixes

| Fix ID | Issue ID | Pattern ID | Fix Applied | Execution Time | Validation |
| ------ | -------- | ---------- | ----------- | -------------- | ---------- |
| [ID]   | [ID]     | [PAT-XXX]  | [Command]   | [Duration]     | [Result]   |

### Failed Fixes

| Fix ID | Issue ID | Pattern ID | Error | Rollback | Impact |
| ------ | -------- | ---------- | ----- | -------- | ------ |
| [ID]   | [ID]     | [PAT-XXX]  | [Error] | [Yes/No] | [Impact] |

## State Capsule Updates

### Pre-Fix State

```yaml
monitoring_state:
  last_run_id: [ID]
  current_status: [Status]
  coverage_metrics:
    line: [Percentage]
    branch: [Percentage]
    function: [Percentage]
    integration: [Percentage]
    spec: [Percentage]
    prompt: [Percentage]
  recent_failures: [Count]
  auto_fix_history: [Count]
```

### Post-Fix State

```yaml
monitoring_state:
  last_run_id: [ID]
  current_status: [Status]
  coverage_metrics:
    line: [Percentage]
    branch: [Percentage]
    function: [Percentage]
    integration: [Percentage]
    spec: [Percentage]
    prompt: [Percentage]
  recent_failures: [Count]
  auto_fix_history: [Count]
```

## Performance Metrics

**Detection Performance**:
- Average Detection Time: [Seconds]
- Detection Accuracy: [Percentage]%
- False Positives: [Count]
- False Negatives: [Count]

**Fix Performance**:
- Average Fix Time: [Seconds]
- Success Rate: [Percentage]%
- Rollback Rate: [Percentage]%
- Validation Time: [Seconds]

**System Impact**:
- CPU Usage: [Percentage]%
- Memory Usage: [MB]
- Disk I/O: [MB/s]
- Network Usage: [KB/s]

## HEE-Specific Metrics

**State Preservation**:
- State Integrity: [Percentage]%
- Decision Preservation: [Percentage]%
- Context Stability: [Percentage]%

**Spec Coverage Impact**:
- Pre-Fix Spec Coverage: [Percentage]%
- Post-Fix Spec Coverage: [Percentage]%
- Spec Coverage Improvement: [Percentage]%

**Prompt Compatibility**:
- Prompt Validation Rate: [Percentage]%
- Prompt Coverage Impact: [Percentage]%

## Detailed Fix Analysis

### Fix Pattern Effectiveness

| Pattern ID | Attempts | Successes | Success Rate | Avg Time | Safety Level |
| ---------- | -------- | --------- | ------------ | -------- | ------------ |
| [PAT-XXX]  | [Count]  | [Count]   | [Percentage]% | [Seconds] | [Level]      |

### Error Pattern Analysis

**Most Common Issues**:
1. [Pattern ID]: [Description] ([Count] occurrences)
2. [Pattern ID]: [Description] ([Count] occurrences)
3. [Pattern ID]: [Description] ([Count] occurrences)

**Most Effective Fixes**:
1. [Pattern ID]: [Description] ([Success Rate]%)
2. [Pattern ID]: [Description] ([Success Rate]%)
3. [Pattern ID]: [Description] ([Success Rate]%)

## Recommendations

### Immediate Actions

- [ ] [Recommendation 1]
- [ ] [Recommendation 2]
- [ ] [Recommendation 3]

### Long-Term Improvements

- [ ] [Improvement 1]
- [ ] [Improvement 2]
- [ ] [Improvement 3]

### Pattern Database Updates

- [ ] Add new pattern for [Issue Type]
- [ ] Improve pattern [PAT-XXX] with [Enhancement]
- [ ] Deprecate pattern [PAT-XXX] due to [Reason]

## HEE Integration Analysis

### State Capsule Impact

**Positive Impacts**:
- [Impact 1]
- [Impact 2]
- [Impact 3]

**Challenges**:
- [Challenge 1]
- [Challenge 2]
- [Challenge 3]

### Decision Preservation

**Decisions Maintained**:
- [Decision 1]
- [Decision 2]
- [Decision 3]

**Decision Conflicts**:
- [Conflict 1]
- [Conflict 2]
- [Conflict 3]

## Logs and Artifacts

**Attached Files**:
- `fix_log_[ID].log`: Detailed fix execution log
- `state_backup_[ID].json`: Pre-fix state backup
- `validation_report_[ID].json`: Post-fix validation results
- `performance_metrics_[ID].json`: Performance data

**Reference Links**:
- Monitoring Dashboard: [URL]
- CI/CD Pipeline: [URL]
- State Capsule: [URL]
- Pattern Database: [URL]

## Sign-off

**Generated By**: [Agent/Process Name]
**Reviewed By**: [Reviewer Name]
**Approval Status**: [Approved/Rejected/Pending]
**Next Steps**: [Action Items]

**HEE Compliance**:
- [ ] Spec-first discipline maintained
- [ ] State preservation requirements met
- [ ] Quality gates passed
- [ ] Governance compliance verified
```

## Usage Instructions

### 1. Report Generation

```bash
# Generate auto-fix report from monitoring session
python scripts/generate_auto_fix_report.py \
  --session-id [ID] \
  --state-capsule current.json \
  --output auto_fix_report_[ID].md

# Validate report structure
python scripts/validate_auto_fix_report.py --input auto_fix_report_[ID].md
```

### 2. Report Integration

**HEE Workflow Integration**:
- Attach to state capsules for context preservation
- Include in CI/CD monitoring artifacts
- Reference in release documentation
- Use for pattern database improvements

### 3. Template Customization

**HEE-Specific Fields**:
- Add project-specific patterns
- Include additional metrics
- Customize recommendation sections
- Adapt to specific HEE workflows

## Best Practices

### ✅ Recommended Practices

**Practice 1**: Comprehensive Pattern Analysis
```markdown
**Most Common Issues**:
1. PAT-001: Clippy Warnings (12 occurrences, 100% fix rate)
2. PAT-002: Dependency Issues (5 occurrences, 80% fix rate)
```

**Practice 2**: HEE-Specific Metrics
```markdown
**State Preservation**:
- State Integrity: 100%
- Decision Preservation: 98%
- Context Stability: 100%
```

### ❌ Anti-Patterns to Avoid

**Anti-Pattern 1**: Incomplete Issue Tracking
```markdown
**Issues Detected**:
- Some issues found  # Too vague
```

**Anti-Pattern 2**: Missing HEE Integration
```markdown
**HEE Integration Analysis**:
- Worked fine  # Too generic
```

## Integration with HEE Systems

### 1. State Capsule Integration

**HEE State Updates**:
- Include report references in state capsules
- Update state metrics based on report data
- Preserve report context in state history

### 2. CI/CD Integration

**HEE Pipeline Integration**:
- Generate reports in monitoring workflows
- Attach reports to build artifacts
- Use reports for quality gate decisions

### 3. Pattern Database Integration

**HEE Pattern Improvements**:
- Update pattern effectiveness metrics
- Add new patterns from report analysis
- Deprecate ineffective patterns
- Improve pattern documentation

This Auto-Fix Report Template provides a comprehensive framework for documenting HEE's automated CI/CD monitoring and fixing operations while maintaining full integration with HEE's state preservation and quality discipline requirements.
